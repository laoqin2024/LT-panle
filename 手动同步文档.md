# Git ä»“åº“åŒæ­¥æ“ä½œæ‰‹å†Œ

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•æ‰‹åŠ¨å°†ä»£ç åŒæ­¥åˆ° GitHub å’Œ Gitee ä»“åº“ã€‚

---

## ğŸ“‹ ç›®å½•

1. [åˆå§‹è®¾ç½®](#åˆå§‹è®¾ç½®)
2. [æ—¥å¸¸åŒæ­¥æ“ä½œ](#æ—¥å¸¸åŒæ­¥æ“ä½œ)
3. [å¸¸è§é—®é¢˜è§£å†³](#å¸¸è§é—®é¢˜è§£å†³)
4. [é«˜çº§æ“ä½œ](#é«˜çº§æ“ä½œ)

---

## ğŸš€ åˆå§‹è®¾ç½®

### 1. åˆå§‹åŒ– Git ä»“åº“

å¦‚æœé¡¹ç›®è¿˜æ²¡æœ‰åˆå§‹åŒ– Git ä»“åº“ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•
cd "/Volumes/MyDisk/App programs/laoqin-panle"

# åˆå§‹åŒ– git ä»“åº“
git init
```

### 2. é…ç½®ç”¨æˆ·ä¿¡æ¯ï¼ˆé¦–æ¬¡ä½¿ç”¨ Git æ—¶éœ€è¦ï¼‰

```bash
# é…ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼ˆå…¨å±€é…ç½®ï¼‰
git config --global user.name "ä½ çš„ç”¨æˆ·å"
git config --global user.email "ä½ çš„é‚®ç®±"

# æˆ–è€…ä»…ä¸ºå½“å‰é¡¹ç›®é…ç½®
git config user.name "ä½ çš„ç”¨æˆ·å"
git config user.email "ä½ çš„é‚®ç®±"
```

### 3. åˆ›å»º .gitignore æ–‡ä»¶

`.gitignore` æ–‡ä»¶ç”¨äºæŒ‡å®šå“ªäº›æ–‡ä»¶ä¸éœ€è¦æäº¤åˆ°ä»“åº“ã€‚å¦‚æœé¡¹ç›®æ ¹ç›®å½•æ²¡æœ‰æ­¤æ–‡ä»¶ï¼Œå¯ä»¥åˆ›å»ºï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .gitignore æ–‡ä»¶
cat > .gitignore << 'EOF'
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
venv/
env/
ENV/
*.egg-info/
dist/
build/

# Node.js
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# IDE
.vscode/
.idea/
*.swp
*.swo
*~

# OS
.DS_Store
Thumbs.db

# ç¯å¢ƒå˜é‡
.env
.env.local
.env.*.local

# æ—¥å¿—
*.log
logs/

# æ•°æ®åº“
*.db
*.sqlite
*.sqlite3

# ä¸´æ—¶æ–‡ä»¶
*.tmp
*.temp
.cache/
EOF
```

### 4. æ·»åŠ è¿œç¨‹ä»“åº“

#### æ·»åŠ  GitHub è¿œç¨‹ä»“åº“

```bash
# æ·»åŠ  GitHub è¿œç¨‹ä»“åº“ï¼ˆå‘½åä¸º githubï¼‰
git remote add github https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git

# æˆ–è€…ä½¿ç”¨ SSH åœ°å€
git remote add github git@github.com:ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git
```

#### æ·»åŠ  Gitee è¿œç¨‹ä»“åº“

```bash
# æ·»åŠ  Gitee è¿œç¨‹ä»“åº“ï¼ˆå‘½åä¸º giteeï¼‰
git remote add gitee https://gitee.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git

# æˆ–è€…ä½¿ç”¨ SSH åœ°å€
git remote add gitee git@gitee.com:ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git
```

#### æŸ¥çœ‹å·²é…ç½®çš„è¿œç¨‹ä»“åº“

```bash
# æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“
git remote -v

# è¾“å‡ºç¤ºä¾‹ï¼š
# github  https://github.com/username/repo.git (fetch)
# github  https://github.com/username/repo.git (push)
# gitee   https://gitee.com/username/repo.git (fetch)
# gitee   https://gitee.com/username/repo.git (push)
```

#### ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€

å¦‚æœè¿œç¨‹ä»“åº“åœ°å€æœ‰è¯¯ï¼Œå¯ä»¥ä¿®æ”¹ï¼š

```bash
# ä¿®æ”¹ GitHub è¿œç¨‹ä»“åº“åœ°å€
git remote set-url github https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git

# ä¿®æ”¹ Gitee è¿œç¨‹ä»“åº“åœ°å€
git remote set-url gitee https://gitee.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git
```

#### åˆ é™¤è¿œç¨‹ä»“åº“

å¦‚æœéœ€è¦åˆ é™¤æŸä¸ªè¿œç¨‹ä»“åº“ï¼š

```bash
# åˆ é™¤ GitHub è¿œç¨‹ä»“åº“
git remote remove github

# åˆ é™¤ Gitee è¿œç¨‹ä»“åº“
git remote remove gitee
```

---

## ğŸ“ æ—¥å¸¸åŒæ­¥æ“ä½œ

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨è‡ªåŠ¨åŒæ­¥è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•
cd "/Volumes/MyDisk/App programs/laoqin-panle"

# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
chmod +x sync_repos.sh

# è¿è¡Œè„šæœ¬ï¼ˆè‡ªåŠ¨æç¤ºè¾“å…¥æäº¤ä¿¡æ¯ï¼‰
./sync_repos.sh

# æˆ–è€…ç›´æ¥æä¾›æäº¤ä¿¡æ¯
./sync_repos.sh "ä¿®å¤äº†ç™»å½•åŠŸèƒ½çš„bug"
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨åŒæ­¥æ­¥éª¤

#### æ­¥éª¤ 1: æŸ¥çœ‹å½“å‰çŠ¶æ€

```bash
# æŸ¥çœ‹æœ‰å“ªäº›æ–‡ä»¶è¢«ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤
git status

# æˆ–è€…æŸ¥çœ‹ç®€æ´ç‰ˆæœ¬
git status -s
```

#### æ­¥éª¤ 2: æ·»åŠ æ›´æ”¹çš„æ–‡ä»¶

```bash
# æ·»åŠ æ‰€æœ‰æ›´æ”¹çš„æ–‡ä»¶
git add .

# æˆ–è€…åªæ·»åŠ ç‰¹å®šæ–‡ä»¶
git add path/to/file1 path/to/file2

# æˆ–è€…æ·»åŠ ç‰¹å®šç›®å½•
git add backend/
git add frontend/
```

#### æ­¥éª¤ 3: æäº¤æ›´æ”¹

```bash
# æäº¤æ›´æ”¹ï¼Œå¹¶æ·»åŠ æäº¤ä¿¡æ¯
git commit -m "ä½ çš„æäº¤ä¿¡æ¯"

# æäº¤ä¿¡æ¯ç¤ºä¾‹ï¼š
git commit -m "æ·»åŠ äº†ç”¨æˆ·ç®¡ç†åŠŸèƒ½"
git commit -m "ä¿®å¤äº†ç™»å½•bug"
git commit -m "æ›´æ–°äº†æ•°æ®åº“æ¨¡å‹"
```

**æäº¤ä¿¡æ¯è§„èŒƒå»ºè®®ï¼š**
- ä½¿ç”¨ä¸­æ–‡æˆ–è‹±æ–‡æè¿°æœ¬æ¬¡æ›´æ”¹
- ç®€æ´æ˜äº†ï¼Œè¯´æ˜åšäº†ä»€ä¹ˆ
- å¯ä»¥åŒ…å«å¤šä¸ªæ”¹åŠ¨ç‚¹ï¼Œç”¨åˆ†å·åˆ†éš”

#### æ­¥éª¤ 4: æ¨é€åˆ°è¿œç¨‹ä»“åº“

**æ¨é€åˆ° GitHubï¼š**

```bash
# æ¨é€åˆ° GitHub çš„ main åˆ†æ”¯
git push github main

# å¦‚æœæ˜¯ master åˆ†æ”¯
git push github master

# å¦‚æœæ˜¯å…¶ä»–åˆ†æ”¯ï¼ˆä¾‹å¦‚ developï¼‰
git push github develop

# é¦–æ¬¡æ¨é€éœ€è¦è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯
git push -u github main
```

**æ¨é€åˆ° Giteeï¼š**

```bash
# æ¨é€åˆ° Gitee çš„ main åˆ†æ”¯
git push gitee main

# å¦‚æœæ˜¯ master åˆ†æ”¯
git push gitee master

# å¦‚æœæ˜¯å…¶ä»–åˆ†æ”¯
git push gitee develop

# é¦–æ¬¡æ¨é€éœ€è¦è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯
git push -u gitee main
```

**åŒæ—¶æ¨é€åˆ°ä¸¤ä¸ªä»“åº“ï¼š**

```bash
# æ–¹æ³•1: åˆ†åˆ«æ¨é€
git push github main
git push gitee main

# æ–¹æ³•2: ä½¿ç”¨ && è¿æ¥ï¼ˆå¦‚æœç¬¬ä¸€ä¸ªå¤±è´¥ï¼Œä¸ä¼šæ‰§è¡Œç¬¬äºŒä¸ªï¼‰
git push github main && git push gitee main

# æ–¹æ³•3: ä½¿ç”¨ ; è¿æ¥ï¼ˆæ— è®ºç¬¬ä¸€ä¸ªæ˜¯å¦æˆåŠŸï¼Œéƒ½ä¼šæ‰§è¡Œç¬¬äºŒä¸ªï¼‰
git push github main ; git push gitee main
```

---

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜ 1: æ¨é€æ—¶æç¤ºéœ€è¦è®¤è¯

**é”™è¯¯ä¿¡æ¯ï¼š**
```
remote: Support for password authentication was removed on August 13, 2021.
Please use a personal access token instead.
```

**è§£å†³æ–¹æ³•ï¼š**

1. **ä½¿ç”¨ Personal Access Token (æ¨è)**
   - GitHub: è®¿é—® https://github.com/settings/tokens ç”Ÿæˆ token
   - Gitee: è®¿é—® https://gitee.com/profile/personal_access_tokens ç”Ÿæˆ token
   - æ¨é€æ—¶ä½¿ç”¨ token ä½œä¸ºå¯†ç 

2. **ä½¿ç”¨ SSH å¯†é’¥ï¼ˆæ¨èï¼‰**
   ```bash
   # ç”Ÿæˆ SSH å¯†é’¥ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
   ssh-keygen -t ed25519 -C "your_email@example.com"
   
   # æŸ¥çœ‹å…¬é’¥
   cat ~/.ssh/id_ed25519.pub
   
   # å°†å…¬é’¥æ·»åŠ åˆ° GitHub: https://github.com/settings/keys
   # å°†å…¬é’¥æ·»åŠ åˆ° Gitee: https://gitee.com/profile/sshkeys
   
   # ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€ä¸º SSH æ ¼å¼
   git remote set-url github git@github.com:ç”¨æˆ·å/ä»“åº“å.git
   git remote set-url gitee git@gitee.com:ç”¨æˆ·å/ä»“åº“å.git
   ```

### é—®é¢˜ 2: æ¨é€æ—¶æç¤ºåˆ†æ”¯ä¸å­˜åœ¨

**é”™è¯¯ä¿¡æ¯ï¼š**
```
error: src refspec main does not exist.
error: failed to push some refs to 'github'
```

**è§£å†³æ–¹æ³•ï¼š**

```bash
# æŸ¥çœ‹å½“å‰åˆ†æ”¯
git branch

# å¦‚æœå½“å‰åˆ†æ”¯ä¸æ˜¯ mainï¼Œåˆ‡æ¢åˆ° main åˆ†æ”¯
git checkout -b main

# æˆ–è€…æ¨é€åˆ°å½“å‰åˆ†æ”¯
git push github $(git branch --show-current)
```

### é—®é¢˜ 3: æ¨é€æ—¶æç¤ºéœ€è¦å…ˆæ‹‰å–

**é”™è¯¯ä¿¡æ¯ï¼š**
```
error: failed to push some refs to 'github'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally.
```

**è§£å†³æ–¹æ³•ï¼š**

```bash
# å…ˆæ‹‰å–è¿œç¨‹æ›´æ”¹
git pull github main

# è§£å†³å¯èƒ½çš„å†²çªåï¼Œå†æ¨é€
git push github main
```

### é—®é¢˜ 4: æäº¤æ—¶æç¤ºæ²¡æœ‰æ›´æ”¹

**é”™è¯¯ä¿¡æ¯ï¼š**
```
nothing to commit, working tree clean
```

**è¯´æ˜ï¼š** è¿™è¡¨ç¤ºæ‰€æœ‰æ›´æ”¹éƒ½å·²ç»æäº¤ï¼Œæˆ–è€…æ²¡æœ‰éœ€è¦æäº¤çš„æ›´æ”¹ã€‚

**è§£å†³æ–¹æ³•ï¼š**
- å¦‚æœç¡®å®æœ‰æ›´æ”¹ï¼Œæ£€æŸ¥ `.gitignore` æ–‡ä»¶æ˜¯å¦å¿½ç•¥äº†è¿™äº›æ–‡ä»¶
- å¦‚æœåªæ˜¯æƒ³æ¨é€åˆ°è¿œç¨‹ï¼Œç›´æ¥æ‰§è¡Œ `git push`

### é—®é¢˜ 5: è¯¯æäº¤äº†ä¸åº”è¯¥æäº¤çš„æ–‡ä»¶

**è§£å†³æ–¹æ³•ï¼š**

```bash
# ä»æš‚å­˜åŒºç§»é™¤æ–‡ä»¶ï¼ˆä½†ä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼‰
git rm --cached æ–‡ä»¶å

# ä»æš‚å­˜åŒºç§»é™¤ç›®å½•
git rm --cached -r ç›®å½•å

# æäº¤è¿™ä¸ªæ›´æ”¹
git commit -m "ä»ä»“åº“ä¸­ç§»é™¤ä¸éœ€è¦çš„æ–‡ä»¶"

# æ›´æ–° .gitignore æ–‡ä»¶ï¼Œé˜²æ­¢å†æ¬¡æäº¤
echo "æ–‡ä»¶å" >> .gitignore
git add .gitignore
git commit -m "æ›´æ–° .gitignore"
```

---

## ğŸ¯ é«˜çº§æ“ä½œ

### 1. æŸ¥çœ‹æäº¤å†å²

```bash
# æŸ¥çœ‹æäº¤å†å²
git log

# æŸ¥çœ‹ç®€æ´ç‰ˆæœ¬
git log --oneline

# æŸ¥çœ‹æœ€è¿‘ 10 æ¡æäº¤
git log -10

# æŸ¥çœ‹å›¾å½¢åŒ–æäº¤å†å²
git log --graph --oneline --all
```

### 2. æ’¤é”€æ›´æ”¹

```bash
# æ’¤é”€å·¥ä½œåŒºçš„æ›´æ”¹ï¼ˆæœª add çš„æ–‡ä»¶ï¼‰
git checkout -- æ–‡ä»¶å

# æ’¤é”€æš‚å­˜åŒºçš„æ›´æ”¹ï¼ˆå·² add ä½†æœª commit çš„æ–‡ä»¶ï¼‰
git reset HEAD æ–‡ä»¶å

# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™æ›´æ”¹ï¼‰
git reset --soft HEAD~1

# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¸ä¿ç•™æ›´æ”¹ï¼‰
git reset --hard HEAD~1
```

### 3. åˆ›å»ºå’Œåˆ‡æ¢åˆ†æ”¯

```bash
# åˆ›å»ºæ–°åˆ†æ”¯
git branch åˆ†æ”¯å

# åˆ‡æ¢åˆ°æ–°åˆ†æ”¯
git checkout åˆ†æ”¯å

# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯
git checkout -b åˆ†æ”¯å

# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch -a

# åˆ é™¤åˆ†æ”¯
git branch -d åˆ†æ”¯å
```

### 4. åˆå¹¶åˆ†æ”¯

```bash
# åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯
git checkout main

# åˆå¹¶å…¶ä»–åˆ†æ”¯
git merge åˆ†æ”¯å
```

### 5. æŸ¥çœ‹å·®å¼‚

```bash
# æŸ¥çœ‹å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„å·®å¼‚
git diff

# æŸ¥çœ‹æš‚å­˜åŒºä¸æœ€åä¸€æ¬¡æäº¤çš„å·®å¼‚
git diff --cached

# æŸ¥çœ‹ä¸è¿œç¨‹åˆ†æ”¯çš„å·®å¼‚
git diff github/main
```

### 6. é…ç½®åˆ«åï¼ˆç®€åŒ–å‘½ä»¤ï¼‰

```bash
# é…ç½®å¿«æ·å‘½ä»¤
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.unstage 'reset HEAD --'

# ä½¿ç”¨åˆ«å
git st    # ç­‰åŒäº git status
git co main  # ç­‰åŒäº git checkout main
```

### 7. è®¾ç½®é»˜è®¤æ¨é€åˆ†æ”¯

```bash
# è®¾ç½®é»˜è®¤æ¨é€åˆ†æ”¯ä¸º main
git config --global push.default simple

# æˆ–è€…ä¸ºæ¯ä¸ªè¿œç¨‹ä»“åº“è®¾ç½®é»˜è®¤åˆ†æ”¯
git config branch.main.remote github
git config branch.main.merge refs/heads/main
```

---

## ğŸ“Œ å¿«é€Ÿå‚è€ƒå‘½ä»¤

### æ—¥å¸¸åŒæ­¥æµç¨‹

```bash
# 1. æŸ¥çœ‹çŠ¶æ€
git status

# 2. æ·»åŠ æ›´æ”¹
git add .

# 3. æäº¤æ›´æ”¹
git commit -m "æäº¤ä¿¡æ¯"

# 4. æ¨é€åˆ° GitHub
git push github main

# 5. æ¨é€åˆ° Gitee
git push gitee main
```

### ä¸€é”®åŒæ­¥è„šæœ¬

```bash
# ä½¿ç”¨è‡ªåŠ¨åŒæ­¥è„šæœ¬
./sync_repos.sh "æäº¤ä¿¡æ¯"
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

1. **æäº¤å‰æ£€æŸ¥**
   - ä½¿ç”¨ `git status` æŸ¥çœ‹è¦æäº¤çš„æ–‡ä»¶
   - ç¡®ä¿ä¸ä¼šæäº¤æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€å¯†é’¥ç­‰ï¼‰
   - ç¡®ä¿ä¸ä¼šæäº¤å¤§æ–‡ä»¶æˆ–ä¸å¿…è¦çš„æ–‡ä»¶

2. **æäº¤ä¿¡æ¯è§„èŒƒ**
   - ä½¿ç”¨æ¸…æ™°ã€æè¿°æ€§çš„æäº¤ä¿¡æ¯
   - è¯´æ˜åšäº†ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿™æ ·åš
   - å¯ä»¥åŒ…å«ç›¸å…³çš„é—®é¢˜ç¼–å·æˆ–ä»»åŠ¡ç¼–å·

3. **å®šæœŸåŒæ­¥**
   - æ¯å¤©ç»“æŸå·¥ä½œå‰åŒæ­¥ä¸€æ¬¡
   - å®Œæˆä¸€ä¸ªåŠŸèƒ½æ¨¡å—åç«‹å³åŒæ­¥
   - ä¿®å¤é‡è¦ bug åç«‹å³åŒæ­¥

4. **åˆ†æ”¯ç®¡ç†**
   - ä¸»åˆ†æ”¯ï¼ˆmain/masterï¼‰ä¿æŒç¨³å®š
   - æ–°åŠŸèƒ½åœ¨ç‹¬ç«‹åˆ†æ”¯å¼€å‘
   - æµ‹è¯•é€šè¿‡åå†åˆå¹¶åˆ°ä¸»åˆ†æ”¯

5. **å¤‡ä»½é‡è¦æ•°æ®**
   - é‡è¦æ›´æ”¹åœ¨æ¨é€å‰å…ˆå¤‡ä»½
   - ä½¿ç”¨å¤šä¸ªè¿œç¨‹ä»“åº“ï¼ˆGitHub + Giteeï¼‰ä½œä¸ºå¤‡ä»½

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. æŸ¥çœ‹ Git å¸®åŠ©æ–‡æ¡£
   ```bash
   git help <å‘½ä»¤>
   # ä¾‹å¦‚ï¼šgit help push
   ```

2. æŸ¥çœ‹ Git å®˜æ–¹æ–‡æ¡£
   - https://git-scm.com/doc

3. æŸ¥çœ‹è¿œç¨‹ä»“åº“å¸®åŠ©
   - GitHub: https://docs.github.com
   - Gitee: https://gitee.com/help

---

**æœ€åæ›´æ–°ï¼š** 2024å¹´

**ç»´æŠ¤è€…ï¼š** é¡¹ç›®å¼€å‘å›¢é˜Ÿ
